# Copyright (c) 2026 Petar Djukic. All rights reserved.
# SPDX-License-Identifier: MIT

id: rel02.0-uc001-build-hello-world
title: Build and Run Hello World Binary

summary: |
  We compile the sdd-hello-world Go binary from source and verify that it
  produces the expected output. This use case exercises the full path from
  Go source to running binary, validating that the code generated by the
  cobbler-scaffold pipeline is correct.

actor: Developer or CI pipeline

trigger: |
  Go source files exist at cmd/sdd-hello-world/main.go and
  cmd/sdd-hello-world/version.go after a generation cycle completes.

flow:
  - id: F1
    text: Run go build ./cmd/sdd-hello-world to compile the binary.
  - id: F2
    text: Verify the build succeeds with exit code 0.
  - id: F3
    text: Run the compiled binary.
  - id: F4
    text: Capture stdout and the exit code.
  - id: F5
    text: Verify stdout contains exactly "Hello, World!\n" and exit code is 0.

touchpoints:
  - id: T1
    text: |
      Binary component (cmd/sdd-hello-world/main.go) — exercises the main
      function that prints the greeting. Implements prd001-hello-world-binary
      R1.1, R2.1, R2.2, R2.3.
  - id: T2
    text: |
      Version file (cmd/sdd-hello-world/version.go) — confirms the version
      constant compiles alongside main.go. Implements prd001-hello-world-binary
      R1.2.
  - id: T3
    text: |
      Go module (go.mod) — validates that the module builds with zero external
      dependencies. Implements prd001-hello-world-binary R1.3.

success_criteria:
  - id: S1
    text: go build ./cmd/sdd-hello-world exits with code 0.
  - id: S2
    text: The binary prints "Hello, World!\n" to stdout.
  - id: S3
    text: The binary exits with code 0.

out_of_scope:
  - Testing with command-line arguments or flags
  - Cross-compilation or platform-specific behavior
  - Performance benchmarking

test_suite: test-rel02.0
